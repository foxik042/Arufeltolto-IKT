<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/style.css">
    <title>Árufeltöltés</title>
</head>
<body>
    <header>
        <h1>Árufeltöltő Rendszer</h1>
    </header>

    <main>
        <section class="product-form">
            <h2>Új Termék Hozzáadása</h2>
            <form id="add-product-form" enctype="multipart/form-data">
                <label for="product-name">Termék neve:</label>
                <input type="text" id="product-name" name="product-name" required>

                <label for="product-price">Ár (HUF):</label>
                <input type="number" id="product-price" name="product-price" min="0" required>

                <label for="product-quantity">Mennyiség:</label>
                <input type="number" id="product-quantity" name="product-quantity" min="0" required>

                <label for="product-category">Kategória:</label>
                <select id="product-category" name="product-category" required>
                    <option value="elelmiszer">Élelmiszer</option>
                    <option value="elektronika">Elektronika</option>
                    <option value="ruhazat">Ruházat</option>
                    <option value="egyeb">Egyéb</option>
                </select>

                <label for="product-image">Termék kép:</label>
                <input type="file" id="product-image" name="product-image" accept="image/*" required>

                <button type="submit">Hozzáadás</button>
            </form>
        </section>

        <section class="product-list">
            <h2>Terméklista</h2>
            <ul id="product-list">
                <li id="no-products">Nincs még hozzáadott termék.</li>
            </ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Árufeltöltő Rendszer</p>
    </footer>

    <script>
        // Az űrlap kezelése és a termék hozzáadása
        document.getElementById('add-product-form').addEventListener('submit', function(event) {
            event.preventDefault();

            // Mezők értékeinek lekérése
            const name = document.getElementById('product-name').value;
            const price = document.getElementById('product-price').value;
            const quantity = document.getElementById('product-quantity').value;
            const category = document.getElementById('product-category').value;
            const imageInput = document.getElementById('product-image');
            const imageFile = imageInput.files[0];

            // Ellenőrzés
            if (name && price && quantity && category && imageFile) {
                const productList = document.getElementById('product-list');
                const noProductsMessage = document.getElementById('no-products');

                // Alapértelmezett üzenet eltávolítása
                if (noProductsMessage) {
                    noProductsMessage.remove();
                }

                // Új listatétel létrehozása
                const newProduct = document.createElement('li');
                newProduct.classList.add('product-item');

                // Kép megjelenítése
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = name;
                    img.style.width = '100px';
                    img.style.height = '100px';
                    img.style.objectFit = 'cover';
                    newProduct.appendChild(img);
                };
                reader.readAsDataURL(imageFile);

                // Termékadatok hozzáadása
                const productInfo = document.createElement('p');
                productInfo.textContent = `${name} - ${category} - ${price} HUF - ${quantity} db`;
                newProduct.appendChild(productInfo);

                // Terméklista frissítése
                productList.appendChild(newProduct);

                // Űrlap mezők ürítése
                document.getElementById('add-product-form').reset();
            }
        });
    </script>
</body>
</html>
